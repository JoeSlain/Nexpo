appId: com.nexpo.app
env:
    TEST_USER_EMAIL: test@test.com
    TEST_USER_PASSWORD: password
---
# Test: Sign In Flow
# Tests the authentication sign in functionality

- launchApp
- scrollUntilVisible:
    element: "Supabase Auth Test"
    direction: DOWN
- tapOn:
    id: "email-input"
- tapOn:
    id: "sign-in-button"
# Wait for sign in to complete
- waitForAnimationToEnd
# Tap OK on the success alert
- assertVisible: "Success"
- assertVisible: "Signed in successfully!"
- tapOn: "OK"
- waitForAnimationToEnd
- assertVisible: "Signed In"
- assertVisible: "Email: ${TEST_USER_EMAIL}"

- tapOn:
    id: "sign-out-button"
- waitForAnimationToEnd
# Verify we're back to the sign in form
- assertVisible: "Supabase Auth Test"
- assertVisible: "Sign In"

